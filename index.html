<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>FullCalendar</title>
        
        <!--Fichiers CSS-->
        <link rel="stylesheet" href="css/fullcalendar.min.css">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/styles.css">
        
        <!--Fichiers JS-->
        <script src="js/jquery-3.2.1.min.js"></script>
        <script src="js/moment.js"></script>
        <script src="js/fullcalendar.min.js"></script>
        <script src="js/locale-all.js"></script>
        <script src="js/bootstrap.min.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                    <div class="navbar-header">
                            <!-- Bouton visible sur petits écrans -->
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menuCollapse" aria-expanded="false">
                                    <span class="sr-only">Toggle navigation</span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                            </button>
                            <!-- Suite du Header -->
                            <a href="#" class="navbar-brand" title="Période Précédente" id="prev"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span></a>
                            <a href="#" class="navbar-brand" title="Période Suivante" id="next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
                            <p class="navbar-text" id="titreCalendrier"></p>
                    </div>
                    <!-- Partie du menu collapsée sur petits écrans -->
                    <div class="collapse navbar-collapse" id="menuCollapse">
                            <ul class="nav navbar-nav">
                                    <li><a href="#" title="Affichage du calendrier Mensuel" id="affichageMois">Mois</a></li>
                                    <li><a href="#" title="Affichage de l'agenda hebdomadaire" id="affichageSemaine">Semaine</a></li>
                                    <li><a href="#" title="Affichage de l'agenda journalier" id="affichageJour">Jour</a></li>
                            </ul>
                    </div>
            </div>
        </nav>
        <div id="calendar"></div>
    
        <script>
            var parametres = {
                //langue du calendrier
                locale: 'fr',
                //entête du calendrier          
                header : false,
                //hauteur automatique
                height : 'auto',
                minTime: '09:00',
                maxTime: '17:00',
                weekends: false,
                defaultView : 'agendaWeek',
                selectable: true,
                themeSystem: 'bootstrap3',
                select: function( start, end, jsEvent, view ){
                    //start est l'heure de début de la sélection
                    //end est l'heure de fin de la sélection
                    //jsEvent contient les informations Javascript telles que les cooredonnées de souris
                    //view contient les éléments de la vue actuelle
                    if (view.type != 'month')
                    {
                        alert('Heure de début de sélection : ' + start.format('HH:mm') + '\n' + 'Heure de fin de sélection : ' + end.format('HH:mm'));
                    }else{
                        alert('Vous avez sélectionné du ' + start.format('DD/MM/YYY') + ' au ' + end.format('DD/MM/YYY'));
                    }

                }
            }
            //fonction qui récupère le titre du calendrier
            function titreCalendrier (){
                //on range le résultat de la méthode 'getView' dans la variable view
                var view = $('#calendar').fullCalendar('getView');
                //On assigne le titre à #titreCalendrier
                $('#titreCalendrier').html(view.title);
            }
            
            $(document).ready(function() {
                $('#calendar').fullCalendar(parametres); //nous appelons dorénavant notre calendrier avec la variable parametres en guise de paramètres.
                titreCalendrier();
                //lorsque l'on clique sur #prev...
                $('#prev').on('click', function(){
                    //on appelle la méthode 'prev'
                    $('#calendar').fullCalendar('prev');
                    //puis on met à jour le titre
                    titreCalendrier();
                });
                //même chose pour lorsqe l'on clique sur #next
                $('#next').on('click', function(){
                    $('#calendar').fullCalendar('next');
                    titreCalendrier();
                });
                //lorsque l'on clique sur mois
                $('affichageMois').onClick
                $('#affichageMois').on('click', function(){
                    //On appelle la méthode changeView
                    $('#calendar').fullCalendar('changeView', 'month');
                    //On raffraichit le titre du calendrier
                    titreCalendrier();
                    //On cache le menu si l'on est sur une vue petit écran
                    $('.navbar-collapse').collapse('hide');
                    //On enlève la classe 'active' de tous les frères du parent de notre élément
                    $(this).parent().siblings().removeClass('active');
                    //On ajoute la classe 'active' au parent de notre élément 
                    $(this).parent().addClass('active');
                });
                $('#affichageSemaine').on('click', function(){
                    $('#calendar').fullCalendar('changeView', 'agendaWeek');
                    titreCalendrier();
                    $('.navbar-collapse').collapse('hide');
                    $(this).parent().siblings().removeClass('active');
                    $(this).parent().addClass('active');
                });
                $('#affichageJour').on('click', function(){
                    $('#calendar').fullCalendar('changeView', 'agendaDay');
                    titreCalendrier();
                    $('.navbar-collapse').collapse('hide');
                    $(this).parent().siblings().removeClass('active');
                    $(this).parent().addClass('active');
                });
            });
        </script>
    </body>
</html>